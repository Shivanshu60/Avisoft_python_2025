{% extends "base.html" %}

{% block title %}{{ category.name }} - Projects{% endblock %}

{% block content %}
  <h1>Projects for Category: {{ category.name }}</h1>
  <p>Description: {{ category.description }}</p>

  <!-- Create New Project Button -->
  <button>
    <a href="/create-project/?category_id={{ category.id }}" class="btn">Create New Project</a>
  </button>

  <ul>
    {% for project in projects %}
      <li>
        
        <a href="/view-project/{{ category.id }}/{{ project.id }}">
          
          <strong>{{ project.name }}</strong><br>
          Start Date: {{ project.start_date }}<br>
          End Date: {{ project.end_date }}<br>
          Status: {{ project.status }}<br>

        </a>

        <!-- Container for Edit and Delete buttons -->
         <br>
        <div style="display: inline-flex; gap: 20px; align-items: center;">
          <!-- Update Project Button -->
          <button>
            <a href="/edit-project/{{ category.id }}/{{ project.id }}" class="btn btn-update">Edit</a>
          </button>

          <!-- Delete Project Form -->
          <form action="/delete-project/{{ category.id }}/{{ project.id }}" method="post" style="display: inline;">
            <button type="submit">Delete Project</button>
          </form>
        </div>
        <hr>
      </li>
    {% else %}
      <li>No projects found for this category.</li>
    {% endfor %}
  </ul>

  <a href="/">Back to Categories</a>
{% endblock %}
